👩🏾:? starting
👩🏾:? xstate.init  ⏩ idle
👩🏾:? 👩🏾->? #0 READY
👨‍🦲:? starting
👨‍🦲:? xstate.init  ⏩ idle
👨‍🦲:? 👨‍🦲->? #0 READY
👨‍🦲:? 👨‍🦲<-? #0 READY
👨‍🦲:? delivering #0 from ?
👨‍🦲:? sending HELLO { identityClaim: { type: 'DEVICE', name: '👨‍🦲' } }
👨‍🦲:? 👨‍🦲->? #1 HELLO
👨‍🦲:? READY  ⏩ idle
👩🏾:? 👩🏾<-? #0 READY
👩🏾:? delivering #0 from ?
👩🏾:? sending HELLO { identityClaim: { type: 'DEVICE', name: '👩🏾' } }
👩🏾:? 👩🏾->? #1 HELLO
👩🏾:? READY  ⏩ idle
👩🏾:? 👩🏾<-? #1 HELLO
👩🏾:? delivering #1 from ?
👩🏾:👨‍🦲 👩🏾->? #2 CHALLENGE_IDENTITY
👩🏾:👨‍🦲 HELLO  ⏩ connecting:authenticating:verifying:waiting,proving:awaitingChallenge
👨‍🦲:? 👨‍🦲<-? #1 HELLO
👨‍🦲:? delivering #1 from ?
👨‍🦲:👩🏾 👨‍🦲->? #2 CHALLENGE_IDENTITY
👨‍🦲:👩🏾 HELLO  ⏩ connecting:authenticating:verifying:waiting,proving:awaitingChallenge
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #2 CHALLENGE_IDENTITY
👨‍🦲:👩🏾 delivering #2 from 👩🏾
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #3 PROVE_IDENTITY
👨‍🦲:👩🏾 CHALLENGE_IDENTITY  ⏩ connecting:authenticating:proving:awaitingAcceptance,verifying:waiting
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #2 CHALLENGE_IDENTITY
👩🏾:👨‍🦲 delivering #2 from 👨‍🦲
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #3 PROVE_IDENTITY
👩🏾:👨‍🦲 CHALLENGE_IDENTITY  ⏩ connecting:authenticating:proving:awaitingAcceptance,verifying:waiting
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #3 PROVE_IDENTITY
👩🏾:👨‍🦲 delivering #3 from 👨‍🦲
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #4 ACCEPT_IDENTITY
👩🏾:👨‍🦲 PROVE_IDENTITY  ⏩ connecting:authenticating:verifying:,proving:awaitingAcceptance
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #3 PROVE_IDENTITY
👨‍🦲:👩🏾 delivering #3 from 👩🏾
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #4 ACCEPT_IDENTITY
👨‍🦲:👩🏾 PROVE_IDENTITY  ⏩ connecting:authenticating:verifying:,proving:awaitingAcceptance
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #4 ACCEPT_IDENTITY
👨‍🦲:👩🏾 delivering #4 from 👩🏾
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #5 UPDATE mw1DB
👨‍🦲:👩🏾 ACCEPT_IDENTITY  ⏩ synchronizing:waiting
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #4 ACCEPT_IDENTITY
👩🏾:👨‍🦲 delivering #4 from 👨‍🦲
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #5 UPDATE mw1DB
👩🏾:👨‍🦲 ACCEPT_IDENTITY  ⏩ synchronizing:waiting
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #5 UPDATE mw1DB
👩🏾:👨‍🦲 delivering #5 from 👨‍🦲
👩🏾:👨‍🦲 headsAreEqual? ourHead: mw1DB theirHead: mw1DB
👩🏾:👨‍🦲 encrypting { recipientPublicKey: 'y/Jpl', senderPublicKey: 's0upq' }
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #6 SEED
👩🏾:👨‍🦲 UPDATE mw1DB ⏩ negotiating:sendingSeed:,receivingSeed:waiting
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #5 UPDATE mw1DB
👨‍🦲:👩🏾 delivering #5 from 👩🏾
👨‍🦲:👩🏾 headsAreEqual? ourHead: mw1DB theirHead: mw1DB
👨‍🦲:👩🏾 encrypting { recipientPublicKey: 's0upq', senderPublicKey: 'y/Jpl' }
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #6 SEED
👨‍🦲:👩🏾 UPDATE mw1DB ⏩ negotiating:sendingSeed:,receivingSeed:waiting
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #6 SEED
👨‍🦲:👩🏾 delivering #6 from 👩🏾
👨‍🦲:👩🏾 decrypting { senderPublicKey: 's0upq', recipientPublicKey: 'y/Jpl' }
👨‍🦲:👩🏾 SEED  ⏩ connected
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #6 SEED
👩🏾:👨‍🦲 delivering #6 from 👨‍🦲
👩🏾:👨‍🦲 decrypting { senderPublicKey: 'y/Jpl', recipientPublicKey: 's0upq' }
👩🏾:👨‍🦲 SEED  ⏩ connected
👩🏾:👨‍🦲 LOCAL_UPDATE of2sE
👩🏾:👨‍🦲 headsAreEqual? ourHead: of2sE theirHead: mw1DB
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #7 UPDATE of2sE
👩🏾:👨‍🦲 LOCAL_UPDATE of2sE ⏩ synchronizing:waiting
👩🏾:? starting
👩🏾:? xstate.init  ⏩ idle
👩🏾:? 👩🏾->? #0 READY
👳🏽‍♂️:? starting
👳🏽‍♂️:? xstate.init  ⏩ idle
👳🏽‍♂️:? 👳🏽‍♂️->? #0 READY
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #7 UPDATE of2sE
👨‍🦲:👩🏾 delivering #7 from 👩🏾
👨‍🦲:👩🏾 headsAreEqual? ourHead: mw1DB theirHead: of2sE
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #7 UPDATE mw1DB
👨‍🦲:👩🏾 UPDATE of2sE ⏩ synchronizing:waiting
👳🏽‍♂️:? 👳🏽‍♂️<-? #0 READY
👳🏽‍♂️:? delivering #0 from ?
👳🏽‍♂️:? sending HELLO {
proofOfInvitation: {
id: 'o8sYFmNNWo7YbXv',
signature: 'sPhgE'
},
deviceKeys: {
type: 'DEVICE',
name: '👳🏽‍♂️',
generation: 0,
encryption: 'InRhy',
signature: 'LXWw1'
},
userKeys: {
type: 'MEMBER',
name: '👳🏽‍♂️',
generation: 0,
encryption: 'GLyQp',
signature: '8AeTt'
}
}
👳🏽‍♂️:? 👳🏽‍♂️->? #1 HELLO
👳🏽‍♂️:? READY  ⏩ idle
👩🏾:? 👩🏾<-? #0 READY
👩🏾:? delivering #0 from ?
👩🏾:? sending HELLO { identityClaim: { type: 'DEVICE', name: '👩🏾' } }
👩🏾:? 👩🏾->? #1 HELLO
👩🏾:? READY  ⏩ idle
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #7 UPDATE mw1DB
👩🏾:👨‍🦲 delivering #7 from 👨‍🦲
👩🏾:👨‍🦲 headsAreEqual? ourHead: of2sE theirHead: mw1DB
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #8 MISSING_LINKS of2sE
👩🏾:👨‍🦲 UPDATE mw1DB ⏩ synchronizing:waiting
👩🏾:? 👩🏾<-? #1 HELLO
👩🏾:? delivering #1 from ?
👩🏾:👳🏽‍♂️ invitation validation: { isValid: true }
👩🏾:👨‍🦲 LOCAL_UPDATE +pSVe
👩🏾:👨‍🦲 LOCAL_UPDATE +pSVe ⏩ synchronizing:waiting
👩🏾:👳🏽‍♂️ 👩🏾->? #2 ACCEPT_INVITATION
👩🏾:👳🏽‍♂️ HELLO  ⏩ connecting:authenticating:verifying:,proving:awaitingChallenge
👳🏽‍♂️:? 👳🏽‍♂️<-? #1 HELLO
👳🏽‍♂️:? delivering #1 from ?
👳🏽‍♂️:👩🏾 HELLO  ⏩ connecting:invitation:waiting
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #8 MISSING_LINKS of2sE
👨‍🦲:👩🏾 delivering #8 from 👩🏾
👨‍🦲:👩🏾 LOCAL_UPDATE of2sE
👨‍🦲:👩🏾 headsAreEqual? ourHead: of2sE theirHead: of2sE
👨‍🦲:👩🏾 👨‍🦲->👩🏾 #8 UPDATE of2sE
👨‍🦲:👩🏾 MISSING_LINKS of2sE ⏩ connected
👨‍🦲:👩🏾 headsAreEqual? ourHead: of2sE theirHead: of2sE
👨‍🦲:👩🏾 LOCAL_UPDATE of2sE ⏩ connected
👳🏽‍♂️:👩🏾 👳🏽‍♂️<-👩🏾 #2 ACCEPT_INVITATION
👳🏽‍♂️:👩🏾 delivering #2 from 👩🏾
👳🏽‍♂️:👩🏾 👳🏽‍♂️->👩🏾 #2 CHALLENGE_IDENTITY
👳🏽‍♂️:👩🏾 ACCEPT_INVITATION  ⏩ connecting:authenticating:proving:,verifying:waiting
👩🏾:👨‍🦲 👩🏾<-👨‍🦲 #8 UPDATE of2sE
👩🏾:👨‍🦲 delivering #8 from 👨‍🦲
👩🏾:👨‍🦲 headsAreEqual? ourHead: +pSVe theirHead: of2sE
👩🏾:👨‍🦲 👩🏾->👨‍🦲 #9 MISSING_LINKS +pSVe
👩🏾:👨‍🦲 UPDATE of2sE ⏩ synchronizing:waiting
👩🏾:👳🏽‍♂️ 👩🏾<-? #2 CHALLENGE_IDENTITY
👩🏾:👳🏽‍♂️ delivering #2 from ?
👩🏾:👳🏽‍♂️ 👩🏾->? #3 PROVE_IDENTITY
👩🏾:👳🏽‍♂️ CHALLENGE_IDENTITY  ⏩ connecting:authenticating:proving:awaitingAcceptance,verifying:
👨‍🦲:👩🏾 👨‍🦲<-👩🏾 #9 MISSING_LINKS +pSVe
👨‍🦲:👩🏾 delivering #9 from 👩🏾
👨‍🦲:👩🏾 MISSING_LINKS +pSVe ⏩ connected
👳🏽‍♂️:👩🏾 👳🏽‍♂️<-👩🏾 #3 PROVE_IDENTITY
👳🏽‍♂️:👩🏾 delivering #3 from 👩🏾
👳🏽‍♂️:👩🏾 👳🏽‍♂️->👩🏾 #3 ACCEPT_IDENTITY
👳🏽‍♂️:👩🏾 👳🏽‍♂️->👩🏾 #4 UPDATE jdwam
👳🏽‍♂️:👩🏾 PROVE_IDENTITY  ⏩ synchronizing:waiting
👩🏾:👳🏽‍♂️ 👩🏾<-? #3 ACCEPT_IDENTITY
👩🏾:👳🏽‍♂️ delivering #3 from ?
👩🏾:👳🏽‍♂️ 👩🏾->👳🏽‍♂️ #4 UPDATE +pSVe
👩🏾:👳🏽‍♂️ ACCEPT_IDENTITY  ⏩ synchronizing:waiting
👩🏾:👳🏽‍♂️ 👩🏾<-👳🏽‍♂️ #4 UPDATE jdwam
👩🏾:👳🏽‍♂️ delivering #4 from 👳🏽‍♂️
👩🏾:👳🏽‍♂️ headsAreEqual? ourHead: +pSVe theirHead: jdwam
👩🏾:👳🏽‍♂️ UPDATE jdwam ⏩ synchronizing:waiting
👳🏽‍♂️:👩🏾 👳🏽‍♂️<-👩🏾 #4 UPDATE +pSVe
👳🏽‍♂️:👩🏾 delivering #4 from 👩🏾
👳🏽‍♂️:👩🏾 headsAreEqual? ourHead: jdwam theirHead: +pSVe
👳🏽‍♂️:👩🏾 👳🏽‍♂️->👩🏾 #5 MISSING_LINKS jdwam
👳🏽‍♂️:👩🏾 UPDATE +pSVe ⏩ synchronizing:waiting
👩🏾:👳🏽‍♂️ 👩🏾<-👳🏽‍♂️ #5 MISSING_LINKS jdwam
👩🏾:👳🏽‍♂️ delivering #5 from 👳🏽‍♂️
👩🏾:👨‍🦲 LOCAL_UPDATE jdwam
👩🏾:👨‍🦲 LOCAL_UPDATE jdwam ⏩ synchronizing:waiting

👩🏾:👳🏽‍♂️ headsAreEqual? ourHead: jdwam theirHead: jdwam
👩🏾:👳🏽‍♂️ 👩🏾->👳🏽‍♂️ #5 UPDATE jdwam
👩🏾:👳🏽‍♂️ encrypting { recipientPublicKey: 'GLyQp', senderPublicKey: 's0upq' }
👩🏾:👳🏽‍♂️ 👩🏾->👳🏽‍♂️ #6 SEED
👩🏾:👳🏽‍♂️ MISSING_LINKS jdwam ⏩ negotiating:sendingSeed:,receivingSeed:waiting
👳🏽‍♂️:👩🏾 👳🏽‍♂️<-👩🏾 #5 UPDATE jdwam
👳🏽‍♂️:👩🏾 delivering #5 from 👩🏾
👳🏽‍♂️:👩🏾 headsAreEqual? ourHead: jdwam theirHead: jdwam
👳🏽‍♂️:👩🏾 encrypting { recipientPublicKey: 's0upq', senderPublicKey: 'GLyQp' }
👳🏽‍♂️:👩🏾 👳🏽‍♂️->👩🏾 #6 SEED
👳🏽‍♂️:👩🏾 UPDATE jdwam ⏩ negotiating:sendingSeed:,receivingSeed:waiting
👳🏽‍♂️:👩🏾 👳🏽‍♂️<-👩🏾 #6 SEED
👳🏽‍♂️:👩🏾 delivering #6 from 👩🏾
👳🏽‍♂️:👩🏾 decrypting { senderPublicKey: 's0upq', recipientPublicKey: 'GLyQp' }
👳🏽‍♂️:👩🏾 SEED  ⏩ connected
👩🏾:👳🏽‍♂️ 👩🏾<-👳🏽‍♂️ #6 SEED
👩🏾:👳🏽‍♂️ delivering #6 from 👳🏽‍♂️
👩🏾:👳🏽‍♂️ decrypting { senderPublicKey: 'GLyQp', recipientPublicKey: 's0upq' }
👩🏾:👳🏽‍♂️ SEED  ⏩ connected